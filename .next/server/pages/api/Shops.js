"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/Shops";
exports.ids = ["pages/api/Shops"];
exports.modules = {

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "(api)/./pages/api/Shops.js":
/*!****************************!*\
  !*** ./pages/api/Shops.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"config\": () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n// const clinics = [];\n//\n// export default function handler(req, res) {\n//     if (req.method === 'POST') {\n//         const { name, location } = req.body;\n//         const newClinic = { id: clinics.length + 1, name, location };\n//         clinics.push(newClinic);\n//         res.status(201).json(newClinic);\n//     } else if (req.method === 'GET') {\n//         res.status(200).json(clinics);\n//     } else {\n//         res.setHeader('Allow', ['GET', 'POST']);\n//         res.status(405).end(`Метод ${req.method} не поддерживается`);\n//     }\n// }\n// let clinics = [];\n//\n// export default function handler(req, res) {\n//     if (req.method === 'POST') {\n//         const { name, lat, lng, address } = req.body;\n//         const newClinic = { name, lat, lng, address };\n//         clinics.push(newClinic);\n//         res.status(200).json({ success: true });\n//     } else {\n//         res.status(405).json({ message: 'Метод не поддерживается' });\n//     }\n// }\n\nconst config = {\n    api: {\n        bodyParser: true\n    }\n};\nconst post = async (req, res)=>{\n    await saveFile(req.body);\n    res.statusCode = 200;\n    res.end(JSON.stringify(req.body));\n    return res;\n};\nconst saveFile = async (body)=>{\n    if (fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(\"./public/zooShops.json\")) {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().readFile(\"./public/zooShops.json\", {\n            encoding: \"utf-8\"\n        }, function(err, data) {\n            let d = JSON.parse(data);\n            d.push(body);\n            fs__WEBPACK_IMPORTED_MODULE_0___default().writeFile(\"./public/zooShops.json\", JSON.stringify(d), {\n                flag: \"w\"\n            }, function(err) {\n                if (err) throw err;\n                console.log(\"It's saved!\");\n            });\n        });\n    } else {\n        fs__WEBPACK_IMPORTED_MODULE_0___default().writeFile(\"./public/zooShops.json\", JSON.stringify([\n            body\n        ]), {\n            flag: \"w\"\n        }, function(err) {\n            if (err) throw err;\n            console.log(\"It's saved!\");\n        });\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((req, res)=>{\n    if (req.method === \"POST\") post(req, res);\n    else res.status(200).send(\"Invalid method, use POST\");\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvU2hvcHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLHNCQUFzQjtBQUN0QixFQUFFO0FBQ0YsOENBQThDO0FBQzlDLG1DQUFtQztBQUNuQywrQ0FBK0M7QUFDL0Msd0VBQXdFO0FBQ3hFLG1DQUFtQztBQUNuQywyQ0FBMkM7QUFDM0MseUNBQXlDO0FBQ3pDLHlDQUF5QztBQUN6QyxlQUFlO0FBQ2YsbURBQW1EO0FBQ25ELHdFQUF3RTtBQUN4RSxRQUFRO0FBQ1IsSUFBSTtBQUVKLG9CQUFvQjtBQUNwQixFQUFFO0FBQ0YsOENBQThDO0FBQzlDLG1DQUFtQztBQUNuQyx3REFBd0Q7QUFDeEQseURBQXlEO0FBQ3pELG1DQUFtQztBQUNuQyxtREFBbUQ7QUFDbkQsZUFBZTtBQUNmLHdFQUF3RTtBQUN4RSxRQUFRO0FBQ1IsSUFBSTtBQUVnQjtBQUViLE1BQU1DLFNBQVM7SUFDbEJDLEtBQUs7UUFDREMsWUFBWSxJQUFJO0lBQ3BCO0FBQ0osRUFBRTtBQUVGLE1BQU1DLE9BQU8sT0FBT0MsS0FBS0MsTUFBUTtJQUM3QixNQUFNQyxTQUFTRixJQUFJRyxJQUFJO0lBQ3ZCRixJQUFJRyxVQUFVLEdBQUc7SUFDakJILElBQUlJLEdBQUcsQ0FBQ0MsS0FBS0MsU0FBUyxDQUFDUCxJQUFJRyxJQUFJO0lBQy9CLE9BQU9GO0FBQ1g7QUFFQSxNQUFNQyxXQUFXLE9BQU9DLE9BQVM7SUFDN0IsSUFBSVIsb0RBQWEsQ0FBQywyQkFBMkI7UUFDekNBLGtEQUFXLENBQUMsMEJBQTBCO1lBQUNlLFVBQVU7UUFBTyxHQUFHLFNBQVVDLEdBQUcsRUFBRUMsSUFBSSxFQUFFO1lBQzVFLElBQUlDLElBQUlQLEtBQUtRLEtBQUssQ0FBQ0Y7WUFDbkJDLEVBQUVFLElBQUksQ0FBQ1o7WUFDUFIsbURBQVksQ0FBQywwQkFBMEJXLEtBQUtDLFNBQVMsQ0FBQ00sSUFBSTtnQkFBQ0ksTUFBTTtZQUFHLEdBQUcsU0FBVU4sR0FBRyxFQUFFO2dCQUNsRixJQUFJQSxLQUFLLE1BQU1BLElBQUk7Z0JBQ25CTyxRQUFRQyxHQUFHLENBQUM7WUFDaEI7UUFDSjtJQUNKLE9BQU87UUFDSHhCLG1EQUFZLENBQUMsMEJBQTBCVyxLQUFLQyxTQUFTLENBQUM7WUFBQ0o7U0FBSyxHQUFHO1lBQUNjLE1BQU07UUFBRyxHQUFHLFNBQVVOLEdBQUcsRUFBRTtZQUN2RixJQUFJQSxLQUFLLE1BQU1BLElBQUk7WUFDbkJPLFFBQVFDLEdBQUcsQ0FBQztRQUNoQjtJQUNKLENBQUM7QUFDTDtBQUVBLGlFQUFlLENBQUNuQixLQUFLQyxNQUFRO0lBQ3pCLElBQUlELElBQUlvQixNQUFNLEtBQUssUUFBUXJCLEtBQUtDLEtBQUtDO1NBQ2hDQSxJQUFJb0IsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztBQUM5QixHQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLWNvdXJzZS0xLy4vcGFnZXMvYXBpL1Nob3BzLmpzPzE5NWMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gY29uc3QgY2xpbmljcyA9IFtdO1xyXG4vL1xyXG4vLyBleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbi8vICAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XHJcbi8vICAgICAgICAgY29uc3QgeyBuYW1lLCBsb2NhdGlvbiB9ID0gcmVxLmJvZHk7XHJcbi8vICAgICAgICAgY29uc3QgbmV3Q2xpbmljID0geyBpZDogY2xpbmljcy5sZW5ndGggKyAxLCBuYW1lLCBsb2NhdGlvbiB9O1xyXG4vLyAgICAgICAgIGNsaW5pY3MucHVzaChuZXdDbGluaWMpO1xyXG4vLyAgICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKG5ld0NsaW5pYyk7XHJcbi8vICAgICB9IGVsc2UgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSB7XHJcbi8vICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oY2xpbmljcyk7XHJcbi8vICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydHRVQnLCAnUE9TVCddKTtcclxuLy8gICAgICAgICByZXMuc3RhdHVzKDQwNSkuZW5kKGDQnNC10YLQvtC0ICR7cmVxLm1ldGhvZH0g0L3QtSDQv9C+0LTQtNC10YDQttC40LLQsNC10YLRgdGPYCk7XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbi8vIGxldCBjbGluaWNzID0gW107XHJcbi8vXHJcbi8vIGV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuLy8gICAgIGlmIChyZXEubWV0aG9kID09PSAnUE9TVCcpIHtcclxuLy8gICAgICAgICBjb25zdCB7IG5hbWUsIGxhdCwgbG5nLCBhZGRyZXNzIH0gPSByZXEuYm9keTtcclxuLy8gICAgICAgICBjb25zdCBuZXdDbGluaWMgPSB7IG5hbWUsIGxhdCwgbG5nLCBhZGRyZXNzIH07XHJcbi8vICAgICAgICAgY2xpbmljcy5wdXNoKG5ld0NsaW5pYyk7XHJcbi8vICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xyXG4vLyAgICAgfSBlbHNlIHtcclxuLy8gICAgICAgICByZXMuc3RhdHVzKDQwNSkuanNvbih7IG1lc3NhZ2U6ICfQnNC10YLQvtC0INC90LUg0L/QvtC00LTQtdGA0LbQuNCy0LDQtdGC0YHRjycgfSk7XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbmltcG9ydCBmcyBmcm9tIFwiZnNcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XHJcbiAgICBhcGk6IHtcclxuICAgICAgICBib2R5UGFyc2VyOiB0cnVlXHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBwb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBhd2FpdCBzYXZlRmlsZShyZXEuYm9keSlcclxuICAgIHJlcy5zdGF0dXNDb2RlID0gMjAwXHJcbiAgICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHJlcS5ib2R5KSlcclxuICAgIHJldHVybiByZXNcclxufTtcclxuXHJcbmNvbnN0IHNhdmVGaWxlID0gYXN5bmMgKGJvZHkpID0+IHtcclxuICAgIGlmIChmcy5leGlzdHNTeW5jKFwiLi9wdWJsaWMvem9vU2hvcHMuanNvblwiKSkge1xyXG4gICAgICAgIGZzLnJlYWRGaWxlKFwiLi9wdWJsaWMvem9vU2hvcHMuanNvblwiLCB7ZW5jb2Rpbmc6ICd1dGYtOCd9LCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XHJcbiAgICAgICAgICAgIGxldCBkID0gSlNPTi5wYXJzZShkYXRhKVxyXG4gICAgICAgICAgICBkLnB1c2goYm9keSlcclxuICAgICAgICAgICAgZnMud3JpdGVGaWxlKFwiLi9wdWJsaWMvem9vU2hvcHMuanNvblwiLCBKU09OLnN0cmluZ2lmeShkKSwge2ZsYWc6ICd3J30sIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHRocm93IGVycjtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSXQncyBzYXZlZCFcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmcy53cml0ZUZpbGUoXCIuL3B1YmxpYy96b29TaG9wcy5qc29uXCIsIEpTT04uc3RyaW5naWZ5KFtib2R5XSksIHtmbGFnOiAndyd9LCBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnIpIHRocm93IGVycjtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJdCdzIHNhdmVkIVwiKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IChyZXEsIHJlcykgPT4ge1xyXG4gICAgaWYgKHJlcS5tZXRob2QgPT09IFwiUE9TVFwiKSBwb3N0KHJlcSwgcmVzKVxyXG4gICAgZWxzZSByZXMuc3RhdHVzKDIwMCkuc2VuZChcIkludmFsaWQgbWV0aG9kLCB1c2UgUE9TVFwiKVxyXG59OyJdLCJuYW1lcyI6WyJmcyIsImNvbmZpZyIsImFwaSIsImJvZHlQYXJzZXIiLCJwb3N0IiwicmVxIiwicmVzIiwic2F2ZUZpbGUiLCJib2R5Iiwic3RhdHVzQ29kZSIsImVuZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJleGlzdHNTeW5jIiwicmVhZEZpbGUiLCJlbmNvZGluZyIsImVyciIsImRhdGEiLCJkIiwicGFyc2UiLCJwdXNoIiwid3JpdGVGaWxlIiwiZmxhZyIsImNvbnNvbGUiLCJsb2ciLCJtZXRob2QiLCJzdGF0dXMiLCJzZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/Shops.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/Shops.js"));
module.exports = __webpack_exports__;

})();